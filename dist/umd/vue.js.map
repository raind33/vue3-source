{"version":3,"file":"vue.js","sources":["../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["class Observer {\n  constructor (data) {\n    this.walk(data)\n  }\n  walk (data) {\n    Object.keys(data).forEach(key => {\n      defineReactive(data, key, data[key])\n    })\n  }\n  \n}\nfunction defineReactive (data, key, val) {\n  observe(val)\n  Object.defineProperty(data, key, {\n    get () {\n      console.log('获取值')\n      return val\n    },\n    set (newVal) {\n      console.log('设置值')\n      if (val === newVal) return\n      observe(newVal)\n      val = newVal\n    }\n  })\n}\nexport function observe (data) {\n  if (typeof data !== 'object' || typeof data === null) {\n    return\n  }\n  return new Observer(data)\n  console.log(data)\n}","import { observe } from './observer/index'\nexport function initState (vm) {\n  const opts = vm.$options\n\n  if (opts.props) {\n    initProps(vm)\n  }\n  if (opts.data) {\n    initData(vm)\n  }\n  if (opts.methods) {\n    initMethods(vm)\n  }\n  if (opts.watch) {\n    initWatch(vm)\n  }\n  if (opts.computed) {\n    initComputed(vm)\n  }\n}\n\nfunction initProps () {}\nfunction initData (vm) {\n  let data = vm.$options.data\n  data = vm._data = typeof data === 'function' ? data.call(vm) : data\n  observe(data)\n}\nfunction initMethods () {}\nfunction initWatch () {}\nfunction initComputed () {}","\nimport { initState } from './state'\nexport function initMixin (Vue) {\n  Vue.prototype._init = function (opts) {\n    \n    const vm = this\n    vm.$options = opts\n    initState(vm)\n  }\n}","import { initMixin } from \"./init\"\n\nfunction Vue (options) {\n  this._init(options)\n}\ninitMixin(Vue)\nexport default Vue"],"names":["Observer","constructor","data","walk","Object","keys","forEach","key","defineReactive","val","observe","defineProperty","get","console","log","set","newVal","initState","vm","opts","$options","props","initData","methods","watch","computed","_data","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;EAAA,MAAMA,QAAN,CAAe;EACbC,EAAAA,WAAW,CAAEC,IAAF,EAAQ;EACjB,SAAKC,IAAL,CAAUD,IAAV;EACD;;EACDC,EAAAA,IAAI,CAAED,IAAF,EAAQ;EACVE,IAAAA,MAAM,CAACC,IAAP,CAAYH,IAAZ,EAAkBI,OAAlB,CAA0BC,GAAG,IAAI;EAC/BC,MAAAA,cAAc,CAACN,IAAD,EAAOK,GAAP,EAAYL,IAAI,CAACK,GAAD,CAAhB,CAAd;EACD,KAFD;EAGD;;EARY;;EAWf,SAASC,cAAT,CAAyBN,IAAzB,EAA+BK,GAA/B,EAAoCE,GAApC,EAAyC;EACvCC,EAAAA,OAAO,CAACD,GAAD,CAAP;EACAL,EAAAA,MAAM,CAACO,cAAP,CAAsBT,IAAtB,EAA4BK,GAA5B,EAAiC;EAC/BK,IAAAA,GAAG,GAAI;EACLC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;EACA,aAAOL,GAAP;EACD,KAJ8B;;EAK/BM,IAAAA,GAAG,CAAEC,MAAF,EAAU;EACXH,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;EACA,UAAIL,GAAG,KAAKO,MAAZ,EAAoB;EACpBN,MAAAA,OAAO,CAACM,MAAD,CAAP;EACAP,MAAAA,GAAG,GAAGO,MAAN;EACD;;EAV8B,GAAjC;EAYD;;EACM,SAASN,OAAT,CAAkBR,IAAlB,EAAwB;EAC7B,MAAI,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,IAAhD,EAAsD;EACpD;EACD;;EACD,SAAO,IAAIF,QAAJ,CAAaE,IAAb,CAAP;EAED;;EC/BM,SAASe,SAAT,CAAoBC,EAApB,EAAwB;EAC7B,QAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB;;EAEA,MAAID,IAAI,CAACE,KAAT,EAAgB;;EAGhB,MAAIF,IAAI,CAACjB,IAAT,EAAe;EACboB,IAAAA,QAAQ,CAACJ,EAAD,CAAR;EACD;;EACD,MAAIC,IAAI,CAACI,OAAT,EAAkB;;EAGlB,MAAIJ,IAAI,CAACK,KAAT,EAAgB;;EAGhB,MAAIL,IAAI,CAACM,QAAT,EAAmB;EAGpB;;EAGD,SAASH,QAAT,CAAmBJ,EAAnB,EAAuB;EACrB,MAAIhB,IAAI,GAAGgB,EAAE,CAACE,QAAH,CAAYlB,IAAvB;EACAA,EAAAA,IAAI,GAAGgB,EAAE,CAACQ,KAAH,GAAW,OAAOxB,IAAP,KAAgB,UAAhB,GAA6BA,IAAI,CAACyB,IAAL,CAAUT,EAAV,CAA7B,GAA6ChB,IAA/D;EACAQ,EAAAA,OAAO,CAACR,IAAD,CAAP;EACD;;ECxBM,SAAS0B,SAAT,CAAoBC,GAApB,EAAyB;EAC9BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUZ,IAAV,EAAgB;EAEpC,UAAMD,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAcD,IAAd;EACAF,IAAAA,SAAS,CAACC,EAAD,CAAT;EACD,GALD;EAMD;;ECPD,SAASW,GAAT,CAAcG,OAAd,EAAuB;EACrB,OAAKD,KAAL,CAAWC,OAAX;EACD;;EACDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}